{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\books\\\\src\\\\containers\\\\SearchBooks.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchBooks } from '../redux/actions/actionFetchBooks';\nimport { addBook } from '../redux/actions/actionAddBooks';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nconst SearchBooks = () => {\n  _s();\n\n  const [title, setTitle] = useState('');\n  const state = useSelector(state => state.search);\n  const dispatch = useDispatch();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(fetchBooks(title));\n  };\n\n  const handleSave = (title, author) => {\n    const bookTosave = {\n      title,\n      author\n    };\n    dispatch(addBook(bookTosave));\n    toast.info('Livre enregistré', {\n      position: toast.POSITION.BOTTOM_RIGHT\n    });\n  };\n\n  const displayFetchedBooks = state.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-border text-info\",\n      role: \"status\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"sr-only\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this) : state.error !== '' ? /*#__PURE__*/_jsxDEV(\"p\", {\n    children: state.error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this) : state.fetchedBooks.map(data => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-link collapsed\",\n            \"data-toggle\": \"collapse\",\n            \"data-target\": `#${data.id}`,\n            \"aria-expanded\": \"false\",\n            children: data.volumeInfo.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: data.id,\n        className: \"collapse\",\n        \"data-parent\": \"#accordion\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [data.volumeInfo.hasOwnProperty('imageLinks') && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: data.volumeInfo.imageLinks.thumbnail,\n            alt: data.volumeInfo.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"card-title\",\n            children: [\"Titre:\", data.volumeInfo.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: [\"Auteurs: \", data.volumeInfo.authors]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: [\"Description: \", data.volumeInfo.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"btn btn-outline-secondary\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            href: data.volumeInfo.previewLink,\n            children: \"Plus d'infos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary ml-3\",\n            onClick: () => handleSave(data.volumeInfo.title, data.volumeInfo.authors),\n            children: \"Enregistrer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)]\n    }, data.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    role: \"main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"display-4\",\n        children: \"BOOKS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Indiquez le sujet du livre \\xE0 rechercher sur Google API\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-inline justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Quoi rechercher ?\",\n            required: true,\n            value: title,\n            onChange: e => setTitle(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary ml-3\",\n            style: {\n              marginTop: '20px'\n            },\n            children: \"Rechercher\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          minHeight: '200px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"accordion\",\n          children: displayFetchedBooks\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SearchBooks, \"S+9GcDMYZ6sDF+qyV+Sv60ppFPw=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = SearchBooks;\nexport default SearchBooks;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBooks\");","map":{"version":3,"sources":["C:/wamp64/www/books/src/containers/SearchBooks.js"],"names":["React","useState","useSelector","useDispatch","fetchBooks","addBook","toast","configure","SearchBooks","title","setTitle","state","search","dispatch","handleSubmit","e","preventDefault","handleSave","author","bookTosave","info","position","POSITION","BOTTOM_RIGHT","displayFetchedBooks","isLoading","error","fetchedBooks","map","data","id","volumeInfo","hasOwnProperty","imageLinks","thumbnail","authors","description","previewLink","target","value","marginTop","minHeight"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,WAAR,EAAoBC,WAApB,QAAsC,aAAtC;AACA,SAAQC,UAAR,QAAyB,mCAAzB;AACA,SAAQC,OAAR,QAAsB,iCAAtB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,OAAO,uCAAP;;AACAA,KAAK,CAACC,SAAN;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AAEtB,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBT,QAAQ,CAAC,EAAD,CAAjC;AAEA,QAAMU,KAAK,GAAGT,WAAW,CAACS,KAAK,IAAGA,KAAK,CAACC,MAAf,CAAzB;AACA,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;;AAEA,QAAMW,YAAY,GAAGC,CAAC,IAAG;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACAH,IAAAA,QAAQ,CAACT,UAAU,CAACK,KAAD,CAAX,CAAR;AACH,GAHD;;AAKA,QAAMQ,UAAU,GAAG,CAACR,KAAD,EAAOS,MAAP,KAAiB;AAChC,UAAMC,UAAU,GAAC;AAACV,MAAAA,KAAD;AAAOS,MAAAA;AAAP,KAAjB;AACAL,IAAAA,QAAQ,CAACR,OAAO,CAACc,UAAD,CAAR,CAAR;AACAb,IAAAA,KAAK,CAACc,IAAN,CAAW,kBAAX,EAA+B;AAACC,MAAAA,QAAQ,EAAEf,KAAK,CAACgB,QAAN,CAAeC;AAA1B,KAA/B;AACH,GAJD;;AAMA,QAAMC,mBAAmB,GAAEb,KAAK,CAACc,SAAN,gBACvB;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,0BAAf;AAA0C,MAAA,IAAI,EAAC,QAA/C;AAAA,6BACI;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADuB,GAO1Bd,KAAK,CAACe,KAAN,KAAe,EAAf,gBACG;AAAA,cAAIf,KAAK,CAACe;AAAV;AAAA;AAAA;AAAA;AAAA,UADH,GAKGf,KAAK,CAACgB,YAAN,CAAmBC,GAAnB,CAAuBC,IAAI,IAAG;AAC1B,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACI;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA,iCACI;AACI,YAAA,SAAS,EAAC,wBADd;AAEI,2BAAY,UAFhB;AAGI,2BAAc,IAAGA,IAAI,CAACC,EAAG,EAH7B;AAII,6BAAc,OAJlB;AAAA,sBAMED,IAAI,CAACE,UAAL,CAAgBtB;AANlB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAaI;AAAK,QAAA,EAAE,EAAEoB,IAAI,CAACC,EAAd;AAAkB,QAAA,SAAS,EAAC,UAA5B;AAAuC,uBAAY,YAAnD;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,qBAEQD,IAAI,CAACE,UAAL,CAAgBC,cAAhB,CAA+B,YAA/B,kBACA;AAAK,YAAA,GAAG,EAAEH,IAAI,CAACE,UAAL,CAAgBE,UAAhB,CAA2BC,SAArC;AAAgD,YAAA,GAAG,EAAEL,IAAI,CAACE,UAAL,CAAgBtB;AAArE;AAAA;AAAA;AAAA;AAAA,kBAHR,eAKI;AAAA;AAAA;AAAA;AAAA,kBALJ,eAMI;AAAI,YAAA,SAAS,EAAC,YAAd;AAAA,iCAAkCoB,IAAI,CAACE,UAAL,CAAgBtB,KAAlD;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ,eAOI;AAAI,YAAA,SAAS,EAAC,YAAd;AAAA,oCAAqCoB,IAAI,CAACE,UAAL,CAAgBI,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPJ,eAQI;AAAG,YAAA,SAAS,EAAC,WAAb;AAAA,wCAAuCN,IAAI,CAACE,UAAL,CAAgBK,WAAvD;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,eASI;AACI,YAAA,SAAS,EAAC,2BADd;AAEI,YAAA,MAAM,EAAC,QAFX;AAGI,YAAA,GAAG,EAAC,qBAHR;AAII,YAAA,IAAI,EAAEP,IAAI,CAACE,UAAL,CAAgBM,WAJ1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATJ,eAgBQ;AACI,YAAA,SAAS,EAAC,gCADd;AAEI,YAAA,OAAO,EAAE,MAAIpB,UAAU,CAACY,IAAI,CAACE,UAAL,CAAgBtB,KAAjB,EAAuBoB,IAAI,CAACE,UAAL,CAAgBI,OAAvC,CAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhBR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAbJ;AAAA,OAAgCN,IAAI,CAACC,EAArC;AAAA;AAAA;AAAA;AAAA,YADJ;AA4CH,GA7CD,CAZJ;AA4DA,sBACI;AAAM,IAAA,IAAI,EAAC,MAAX;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAII;AACI,QAAA,SAAS,EAAC,oCADd;AAAA,gCAEI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,iCACI;AACI,YAAA,IAAI,EAAC,MADT;AACgB,YAAA,SAAS,EAAC,cAD1B;AAEI,YAAA,WAAW,EAAC,mBAFhB;AAGI,YAAA,QAAQ,MAHZ;AAII,YAAA,KAAK,EAAErB,KAJX;AAKI,YAAA,QAAQ,EAAGM,CAAC,IAAGL,QAAQ,CAACK,CAAC,CAACuB,MAAF,CAASC,KAAV;AAL3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAWI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,iCACI;AACI,YAAA,SAAS,EAAC,gCADd;AAC+C,YAAA,KAAK,EAAE;AAACC,cAAAA,SAAS,EAAC;AAAX,aADtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAuBI;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,KAAK,EAAE;AAACC,UAAAA,SAAS,EAAC;AAAX,SAAlC;AAAA,+BACI;AAAK,UAAA,EAAE,EAAC,WAAR;AAAA,oBACMjB;AADN;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAkCH,CAhHD;;GAAMhB,W;UAIYN,W,EACGC,W;;;KALfK,W;AAkHN,eAAeA,WAAf","sourcesContent":["import React, {useState} from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {fetchBooks} from '../redux/actions/actionFetchBooks'\r\nimport {addBook} from '../redux/actions/actionAddBooks'\r\nimport {toast} from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css'\r\ntoast.configure();\r\n\r\nconst SearchBooks = () => {\r\n\r\n    const [title,setTitle] = useState('');\r\n\r\n    const state = useSelector(state =>state.search)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSubmit = e =>{\r\n        e.preventDefault();\r\n        dispatch(fetchBooks(title))\r\n    }\r\n\r\n    const handleSave = (title,author) =>{\r\n        const bookTosave={title,author}\r\n        dispatch(addBook(bookTosave))\r\n        toast.info('Livre enregistré', {position: toast.POSITION.BOTTOM_RIGHT})\r\n    }\r\n\r\n    const displayFetchedBooks= state.isLoading ?(\r\n        <div className=\"d-flex justify-content-center\">\r\n            <div className=\"spinner-border text-info\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </div>\r\n        </div>\r\n    )\r\n    :state.error !=='' ? (\r\n        <p>{state.error}</p>\r\n    )\r\n    :\r\n    (\r\n        state.fetchedBooks.map(data =>{\r\n            return(\r\n                <div className=\"card mb-2\" key={data.id}>\r\n                    <div className=\"card-header\">\r\n                        <h5 className=\"mb-0\">\r\n                            <button \r\n                                className=\"btn btn-link collapsed\"\r\n                                data-toggle=\"collapse\"\r\n                                data-target={`#${data.id}`}\r\n                                aria-expanded=\"false\"\r\n                            >\r\n                            { data.volumeInfo.title }\r\n                            </button>\r\n                        </h5>\r\n                    </div>\r\n                    <div id={data.id} className=\"collapse\" data-parent=\"#accordion\">\r\n                        <div className=\"card-body\">\r\n                            {\r\n                                data.volumeInfo.hasOwnProperty('imageLinks') &&\r\n                                <img src={data.volumeInfo.imageLinks.thumbnail} alt={data.volumeInfo.title}/>\r\n                            }\r\n                            <br />\r\n                            <h4 className=\"card-title\">Titre:{data.volumeInfo.title}</h4>\r\n                            <h5 className=\"card-title\">Auteurs: {data.volumeInfo.authors}</h5>\r\n                            <p className=\"card-text\">Description: {data.volumeInfo.description}</p>\r\n                            <a \r\n                                className=\"btn btn-outline-secondary\" \r\n                                target=\"_blank\" \r\n                                rel=\"noopener noreferrer\"\r\n                                href={data.volumeInfo.previewLink}\r\n                                >\r\n                                Plus d'infos</a>\r\n                                <button \r\n                                    className=\"btn btn-outline-secondary ml-3\"\r\n                                    onClick={()=>handleSave(data.volumeInfo.title,data.volumeInfo.authors)}\r\n                                >\r\n                                Enregistrer\r\n                                </button>\r\n                            {\r\n                                \r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })   \r\n    )\r\n\r\n    return(\r\n        <main role=\"main\">\r\n            <div className=\"container text-center\">\r\n                <h1 className=\"display-4\">BOOKS</h1>\r\n                <p>Indiquez le sujet du livre à rechercher sur Google API</p>\r\n\r\n                <form \r\n                    className=\"form-inline justify-content-center\">\r\n                    <div className=\"form-group\">\r\n                        <input \r\n                            type=\"text\" className=\"form-control\"\r\n                            placeholder=\"Quoi rechercher ?\"\r\n                            required\r\n                            value={title}\r\n                            onChange={ e =>setTitle(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <button \r\n                            className=\"btn btn-outline-secondary ml-3\" style={{marginTop:'20px'}}>\r\n                            Rechercher\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n                <div className=\"container\" style={{minHeight:'200px'}}>\r\n                    <div id=\"accordion\">\r\n                        { displayFetchedBooks }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default SearchBooks\r\n\r\n"]},"metadata":{},"sourceType":"module"}