{"ast":null,"code":"import { ADD_BOOKS, DELETE_BOOK } from '../constants';\nimport { v4 as uuiv4 } from 'uuid';\nconst initialState = {\n  books: []\n};\n\nconst helperAdddata = action => {\n  return {\n    id: uuiv4(),\n    title: action.payload.title,\n    author: action.payload.author\n  };\n};\n\nconst removeDataById = (state, id) => {\n  const books = state.filter(book => book.id != id);\n  return books;\n}; //reducer \n\n\nconst reducerAddBooks = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.books;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (localStorage.getItem('booksData')) {\n    state = JSON.parse(localStorage.getItem('booksData'));\n  }\n\n  switch (action.type) {\n    case ADD_BOOKS:\n      state = [...state, helperAdddata(action)];\n      localStorage.setItem('booksData', JSON.stringify(state));\n      return state;\n\n    case DELETE_BOOK:\n      state = removeDataById(state, action.payload);\n      localStorage.setItem('booksData', JSON.stringify(state));\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default reducerAddBooks;","map":{"version":3,"sources":["C:/wamp64/www/books/src/redux/reducers/reducerAddBooks.js"],"names":["ADD_BOOKS","DELETE_BOOK","v4","uuiv4","initialState","books","helperAdddata","action","id","title","payload","author","removeDataById","state","filter","book","reducerAddBooks","localStorage","getItem","JSON","parse","type","setItem","stringify"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,WAAnB,QAAqC,cAArC;AACA,SAAQC,EAAE,IAAIC,KAAd,QAA0B,MAA1B;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAC;AADW,CAArB;;AAIA,MAAMC,aAAa,GAAGC,MAAM,IAAG;AAC3B,SAAM;AACFC,IAAAA,EAAE,EAAEL,KAAK,EADP;AAEFM,IAAAA,KAAK,EAAEF,MAAM,CAACG,OAAP,CAAeD,KAFpB;AAGFE,IAAAA,MAAM,EAAEJ,MAAM,CAACG,OAAP,CAAeC;AAHrB,GAAN;AAKH,CAND;;AAQA,MAAMC,cAAc,GAAG,CAACC,KAAD,EAAOL,EAAP,KAAa;AAChC,QAAMH,KAAK,GAAEQ,KAAK,CAACC,MAAN,CAAaC,IAAI,IAAIA,IAAI,CAACP,EAAL,IAAWA,EAAhC,CAAb;AACA,SAAOH,KAAP;AACH,CAHD,C,CAKA;;;AACA,MAAMW,eAAe,GAAE,YAAsC;AAAA,MAArCH,KAAqC,uEAA9BT,YAAY,CAACC,KAAiB;AAAA,MAAXE,MAAW;;AAEzD,MAAGU,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAH,EAAsC;AAClCL,IAAAA,KAAK,GAAGM,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAR;AACH;;AAED,UAAOX,MAAM,CAACc,IAAd;AACI,SAAKrB,SAAL;AACIa,MAAAA,KAAK,GAAE,CAAC,GAAGA,KAAJ,EAAUP,aAAa,CAACC,MAAD,CAAvB,CAAP;AACAU,MAAAA,YAAY,CAACK,OAAb,CAAqB,WAArB,EAAkCH,IAAI,CAACI,SAAL,CAAeV,KAAf,CAAlC;AACA,aAAOA,KAAP;;AAEJ,SAAKZ,WAAL;AACIY,MAAAA,KAAK,GAAGD,cAAc,CAACC,KAAD,EAAON,MAAM,CAACG,OAAd,CAAtB;AACAO,MAAAA,YAAY,CAACK,OAAb,CAAqB,WAArB,EAAkCH,IAAI,CAACI,SAAL,CAAeV,KAAf,CAAlC;AACA,aAAOA,KAAP;;AACA;AAAS,aAAOA,KAAP;AAVjB;AAYH,CAlBD;;AAoBA,eAAeG,eAAf","sourcesContent":["import {ADD_BOOKS, DELETE_BOOK} from '../constants'\r\nimport {v4 as uuiv4} from 'uuid'\r\n\r\nconst initialState = {\r\n    books:[]\r\n}\r\n\r\nconst helperAdddata = action =>{\r\n    return{\r\n        id: uuiv4(),\r\n        title: action.payload.title,\r\n        author: action.payload.author\r\n    }\r\n}\r\n\r\nconst removeDataById = (state,id) =>{\r\n    const books= state.filter(book => book.id != id)\r\n    return books\r\n}\r\n\r\n//reducer \r\nconst reducerAddBooks= (state= initialState.books,action) => {\r\n\r\n    if(localStorage.getItem('booksData')) {\r\n        state = JSON.parse(localStorage.getItem('booksData'))\r\n    }\r\n\r\n    switch(action.type){\r\n        case ADD_BOOKS:\r\n            state= [...state,helperAdddata(action)]\r\n            localStorage.setItem('booksData', JSON.stringify(state))\r\n            return state;\r\n\r\n        case DELETE_BOOK:\r\n            state = removeDataById(state,action.payload);\r\n            localStorage.setItem('booksData', JSON.stringify(state))\r\n            return state;\r\n            default: return state\r\n    }\r\n}\r\n\r\nexport default reducerAddBooks"]},"metadata":{},"sourceType":"module"}